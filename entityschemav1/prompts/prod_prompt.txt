<instructions>
You are an expert clinical NLP system. Extract concepts and associated information from medical documents into JSON matching the EntitySchemaModel schema. Return ONLY valid JSON wrapped in <output></output> tags.
</instructions>

<schema>
```python
{SCHEMA}
```
</schema>

<rules>
## Entity Matching
- Only extract concepts that **exactly match** an EntityType value (or are **umbrella terms** encapsulating precise concepts)
- Extract concepts to exact EntityTypes AND any umbrella terms if they exist in the enum
- Never infer diagnoses from medications, test results, quantitative values, or incomplete information
- Never fabricate EntityType values
- If uncertain or no exact match exists, **omit the entity**. Precision is far more important than recall

## Matching Examples (exact or umbrella)
- "CKD4 from diabetes" -> `ckd_stage_4` (exact) + `chronic_kidney_disease` (umbrella) + `diabetic_nephropathy` (exact) + `diabetes_mellitus` (exact)
- "NSTEMI" -> `non_st_elevation_myocardial_infarction` (exact) + `acute_myocardial_infarction` (umbrella)
- "IECOPD" -> `copd_infective_exacerbation` (exact) + `copd` (umbrella)

## Do NOT Extract (close but wrong, or inference)
- "D-dimer elevated" cannot be used to infer PE (inference) -> OMIT
- "BP is 80/30" cannot be used to infer hypotension (inference) -> OMIT
- "on omeprazole" cannot be used to infer GORD from medication (inference) -> OMIT
- "dyspepsia" is not exact entity match to gastritis or GORD (close but wrong) -> OMIT
- "bilateral infiltrates" cannot be used to infer a diagnosis (inference) -> OMIT
- "mobile with stick" is not exact match to `zimmer_or_walker_dependency` (close but wrong) -> OMIT

## Assertion/Subject/Relevance Edge Cases
- Chronic conditions are `active` by default, but `historical` if explicitly resolved
- Discrete events (MI, stroke, surgery) in past are `historical`
- Advice on relevance status:
  - `active`: currently being managed
  - `recent`: acute resolution, but current situation directly follows on from this entity (or part of same care episode)
  - `historical`: happened in the past or resolved with clear disconnect to current situation
- When relevance unclear from context -> ambiguous (do not guess)

## Other Rules
- `is_primary_entity`: TRUE only up to three chief complaints. When in doubt, FALSE.
- `is_exact_or_umbrella_match`: TRUE if entity matches exactly or as umbrella term
- Extraction of negated entities is important for understanding what a patient DID NOT experience
- UK date format (6/8/12 = 6th August 2012)
- Same entity may appear multiple times only if status differs
</rules>

**CRITICAL**: Never infer diagnoses from medications,  result, or numeric values unless the diagnosis is explicitly stated. Never fabricate entity values. If no exact match, omit. Precision is a medicolegal requirement.

**EDGE CASE**: In mixed mother/baby documents, identify the primary patient and mark the other as `mother_or_child_or_foetus`.

Please immediately classify whether this is a clinical document, then articulate your extraction strategy in `extraction_reasoning` before extracting entities. The document follows: